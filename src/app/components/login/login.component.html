<main class="container py-3 full-height">
    <div class="row">
        <section class="col-md-4 offset-md-4 mt-5">
            <form [formGroup]="form" (ngSubmit)="submit()" class="card card-body bg-light-subtle ">
                <h1 class="text-center">Log In</h1>

                <div class="mb-3">
                    <label for="username">Username:</label>
                    <input type="text" placeholder="Write your username" name="username" id="username" class="form-control"
                    formControlName="username" [ngClass]="{'is-invalid': hasErrors('username','required') || hasErrors('username','minlength')}"> <!-- si hay error aÃ±ade esa clase css-->

                    <!-- Si hay un error muestra el mensaje del error -->
                     @if(hasErrors('username','required')) {
                        <div class="text-danger"> the username is required</div>

                     }@else if (hasErrors('username','minlength')) {
                        <div class="text-danger"> the username must have at least 3 letters</div>
                     }
                </div>

                <div class="mb-3">
                    <label for="password">Password:</label>
                    <input type="password" placeholder="write your password" name="password" id="password" class="form-control"
                    formControlName="password" [ngClass]="{'is-invalid': hasErrors('password','required') || hasErrors('password','minlength')}">

                    @if(hasErrors('password','required')) {
                        <div class="text-danger"> the password is required</div>

                     }@else if (hasErrors('password','minlength')) {
                        <div class="text-danger"> the password must have at least 3 letters</div>
                     }
                </div>

                <div class="text-center" >
                    <button class="btn btn-dark" type="submit">
                        Log In
                    </button>
                </div>


                @if(errorMessage) {
                    <div class="alert alert-danger mt-3"> {{ errorMessage }} </div>
                 }
            </form>
        </section>
    </div>
</main>
